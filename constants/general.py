# Global constants

SAMPLE_TO_NES_NAME = "SampleToNES"
SAMPLE_TO_NES_VERSION = "0.2.0"

SAMPLE_RATE = 44100
MIN_SAMPLE_RATE = 8000
MAX_SAMPLE_RATE = 192000

CHANGE_RATE = 60  # NTSC frame rate
MIN_CHANGE_RATE = 15
MAX_CHANGE_RATE = 300

APU_CLOCK = 1789773.0
MIN_PITCH = 33
MAX_PITCH = 119
PITCH_RANGE = MAX_PITCH - MIN_PITCH

MIN_FREQUENCY = APU_CLOCK / 0x8000
MAX_FREQUENCY = APU_CLOCK / 0x10

A4_FREQUENCY = 440.0
A4_PITCH = 69
NOTE_NAMES = ["C-", "C#", "D-", "D#", "E-", "F-", "F#", "G-", "G#", "A-", "A#", "B-"]

MIN_VOLUME = 1
MAX_VOLUME = 15
VOLUME_RANGE = range(0, MAX_VOLUME + 1)

MAX_DUTY_CYCLE = 3

NORMALIZE = True
QUANTIZE = True
QUANTIZATION_LEVELS = 32

RESET_PHASE = False
SPECTRAL_LOSS_WEIGHT = 0.60
TEMPORAL_LOSS_WEIGHT = 0.20
CONTINUITY_LOSS_WEIGHT = 0.20

BATCH_SIZE = 512

# Channel-specific constants

DUTY_CYCLES = [0.125, 0.25, 0.5, 0.75]
DUTY_CYCLES_MAX_DEVIATION = 0.375

TRIANGLE_OFFSET = 0.5

NOISE_PERIODS = [
    4068,
    2034,
    1016,
    762,
    508,
    380,
    254,
    202,
    160,
    128,
    96,
    64,
    32,
    16,
    8,
    4,
]
MAX_PERIOD = len(NOISE_PERIODS) - 1

MAX_LFSR = 0x7FFF
MAX_LFSR_SHORT = 0x5D

MIXER = 1.8
MAX_MIXER = 5.0
MIXER_PULSE = 0.26395226395226395
MIXER_TRIANGLE = 0.2987012987012987
MIXER_NOISE = 0.1733941733941734


# Paths

LIBRARY_DIRECTORY = "data/library"
OUTPUT_DIRECTORY = "data/output"
CONFIG_PATH = "data/config.json"


# Calculation methods

TRANSFORMATION_GAMMA = 0
MAX_TRANSFORMATION_GAMMA = 100
FIND_BEST_PHASE = True
FAST_DIFFERENCE = False
MAX_WORKERS = 6
