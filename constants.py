SAMPLE_RATE = 44100
MIN_SAMPLE_RATE = 8000
MAX_SAMPLE_RATE = 192000

CHANGE_RATE = 60  # NTSC frame rate
MIN_CHANGE_RATE = 5
MAX_CHANGE_RATE = 300

APU_CLOCK = 1789773.0
MIN_PITCH = 33
MAX_PITCH = 119
PITCH_RANGE = MAX_PITCH - MIN_PITCH

MIN_FREQUENCY = APU_CLOCK / 0x8000
MAX_FREQUENCY = APU_CLOCK / 0x10

A4_FREQUENCY = 440.0
A4_PITCH = 69

MIN_VOLUME = 1
MAX_VOLUME = 15
VOLUME_RANGE = range(0, MAX_VOLUME + 1)

MAX_DUTY_CYCLE = 3

QUANTIZATION_LEVELS = 32
RESET_PHASE = False

SPECTRAL_LOSS_WEIGHT = 0.75
TEMPORAL_LOSS_WEIGHT = 0.25
CONTINUITY_LOSS_WEIGHT = 0.10


# Channel-specific constants

DUTY_CYCLES = [0.125, 0.25, 0.5, 0.75]
DUTY_CYCLES_MAX_DEVIATION = 0.375

TRIANGLE_OFFSET = 0.5

NOISE_PERIODS = [
    4068,
    2034,
    1016,
    762,
    508,
    380,
    254,
    202,
    160,
    128,
    96,
    64,
    32,
    16,
    8,
    4,
]
MAX_PERIOD = len(NOISE_PERIODS) - 1
MAX_LFSR = 0x7FFF

MIXER = 0.3
MIXER_SQUARE = 0.3586075345731998
MIXER_TRIANGLE = 0.40581783500238433
MIXER_NOISE = 0.23557463042441584

# Paths
LIBRARY_PATH = "library.fft"
